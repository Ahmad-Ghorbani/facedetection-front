(this.webpackJsonpfacedetection=this.webpackJsonpfacedetection||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1),s=n.n(i),a=n(7),o=n.n(a),c=(n(12),n(2)),r=n(3),l=n(5),d=n(4),u=(n(13),n(14),n.p+"static/media/icon-profile-8.35394e3d.jpg"),h=n(0);onclick=function(e){if(!e.target.matches(".dropbtn")){var t,n=document.getElementsByClassName("dropdown-content");for(t=0;t<n.length;t++){var i=n[t];i.classList.contains("show")&&i.classList.remove("show")}}if(e.target.matches(".closeProfile"))for(n=document.getElementsByClassName("profileDropdown-content"),t=0;t<n.length;t++)(i=n[t]).classList.contains("showProfile")&&i.classList.remove("showProfile")};var m=function(e){var t=e.onRouteChange,n=e.isSignedin;return!!n&&Object(h.jsx)("div",{children:Object(h.jsxs)("nav",{className:"Navigation",children:[Object(h.jsx)("img",{className:"signout dropbtn",onClick:function(){document.getElementById("myDropdown").classList.toggle("show")},src:u,alt:"profile "}),Object(h.jsx)("div",{id:"myDropdown",className:"dropdown-content",children:Object(h.jsx)("a",{onClick:function(){return t("signin")},children:"Sign out"})}),Object(h.jsx)("div",{id:"profileDropdown",className:"profileDropdown-content",children:Object(h.jsx)("div",{className:"rightDiv",children:Object(h.jsx)("p",{className:"closeProfile",children:"Close"})})})]})})},j=(n(16),function(e){var t=e.onRouteChange;return Object(h.jsxs)("div",{className:"guest",children:[Object(h.jsx)("div",{className:"float_guest",onClick:function(){return t("register")},children:"Register"}),Object(h.jsx)("div",{className:"guestName",children:"Hi Guest"}),Object(h.jsx)("div",{className:"guestEnter",children:"Enter an image url to detect the faces"})]})}),g=(n(17),function(e){var t=e.imageLink,n=e.submitClicked;return Object(h.jsx)("div",{className:"imageForm_parent",children:Object(h.jsxs)("div",{className:"imageForm",children:[Object(h.jsx)("input",{type:"text",placeholder:"Enter the image url",className:"image_input",onChange:t}),Object(h.jsx)("button",{onClick:n,className:"button_image",children:"Detect"})]})})}),p=(n(18),function(e){var t=e.userName,n=e.userEntries;return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"profilrName",children:"".concat(t,", your current entry count is...")}),Object(h.jsx)("div",{className:"Entries",children:"".concat(n)})]})}),b=(n(19),function(e){var t=e.source;return Object(h.jsx)("div",{className:"imagetoboDetected",children:Object(h.jsx)("div",{className:"relative",id:"parent-div",children:Object(h.jsx)("img",{className:"image",id:"inputImage",src:t,alt:""})})})}),f=(n(20),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).onEmailChange=function(e){i.setState({signInEmail:e.target.value})},i.onPasswordChange=function(e){i.setState({signInPassword:e.target.value})},i.onSubmitSignin=function(){fetch("https://fast-mountain-98393.herokuapp.com/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i.state.signInEmail,password:i.state.signInPassword})}).then((function(e){return e.json()})).then((function(e){e.id?(i.props.loadUser(e),i.props.onRouteChange("home")):"incorrect form submission"!==e&&"wrong credentilas"!==e||i.setState({invalidCredentials:e})}))},i.state={signInEmail:"",signInPassword:"",invalidCredentials:""},i}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return Object(h.jsx)("article",{className:"signin_parent",children:Object(h.jsx)("main",{className:"signin_div",children:Object(h.jsxs)("div",{className:"forms_div",children:[Object(h.jsx)("div",{className:"credentials--div",children:Object(h.jsx)("input",{placeholder:"Email",className:"input--field",type:"email",name:"email-address",id:"email-address",onChange:this.onEmailChange})}),Object(h.jsx)("div",{className:"credentials--div",children:Object(h.jsx)("input",{placeholder:"Password",className:"input--field",type:"password",name:"password",id:"password",onChange:this.onPasswordChange})}),Object(h.jsx)("div",{className:"button--div",children:Object(h.jsx)("input",{onClick:this.onSubmitSignin,className:"button",type:"submit",value:"Sign In"})}),Object(h.jsx)("div",{className:"register--div",children:Object(h.jsxs)("h4",{children:["Don't have an account?"," ",Object(h.jsx)("span",{className:"register_route",onClick:function(){return e.props.onRouteChange("register")},children:"Register"})]})}),Object(h.jsx)("div",{className:"register--div",children:Object(h.jsxs)("h4",{children:["Don't want to sign in? Go to"," ",Object(h.jsx)("span",{className:"register_route",onClick:function(){return e.props.onRouteChange("home_notsignedin")},children:"Homepage"})]})}),""!==this.state.invalidCredentials?Object(h.jsx)("div",{className:"invalidCredentials",children:Object(h.jsx)("p",{children:this.state.invalidCredentials})}):Object(h.jsx)("div",{})]})})})}}]),n}(i.Component)),v=(n(21),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).onNameChange=function(e){i.setState({RegisterName:e.target.value})},i.onEmailChange=function(e){i.setState({RegisterEmail:e.target.value})},i.onPasswordChange=function(e){i.setState({RegisterPassword:e.target.value})},i.onSubmitRegister=function(){fetch("https://fast-mountain-98393.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i.state.RegisterName,email:i.state.RegisterEmail,password:i.state.RegisterPassword})}).then((function(e){return e.json()})).then((function(e){e.id&&(i.props.loadUser(e),i.props.onRouteChange("home"))}))},i.state={RegisterName:"",RegisterEmail:"",RegisterPassword:""},i}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return Object(h.jsx)("article",{className:"register_parent",children:Object(h.jsx)("main",{className:"signin_div",children:Object(h.jsxs)("div",{className:"forms_div",children:[Object(h.jsx)("div",{className:"credentials--div",children:Object(h.jsx)("input",{className:"input--field",placeholder:"Name",type:"text",name:"name",id:"name",onChange:this.onNameChange})}),Object(h.jsx)("div",{className:"credentials--div",children:Object(h.jsx)("input",{className:"input--field",placeholder:"Email",type:"email",name:"email-address",id:"email-address",onChange:this.onEmailChange})}),Object(h.jsx)("div",{className:"credentials--div",children:Object(h.jsx)("input",{className:"input--field",placeholder:"Password",type:"password",name:"password",id:"password",onChange:this.onPasswordChange})}),Object(h.jsx)("div",{className:"button--div",children:Object(h.jsx)("input",{onClick:this.onSubmitRegister,className:"button",type:"submit",value:"Register"})}),Object(h.jsx)("div",{className:"register--div",children:Object(h.jsxs)("h4",{children:["Already have an account?"," ",Object(h.jsx)("span",{onClick:function(){return e.props.onRouteChange("signin")},className:"signin_route",children:"Sign in"})]})})]})})})}}]),n}(i.Component)),O={link:"",boxArray:[],route:"signin",isSignedin:!1,user:{id:"",name:"",email:"",entries:0,joined:""}},x=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).loadUser=function(t){e.setState({user:{id:t.id,name:t.name,email:t.email,entries:t.entries,joined:t.joined}})},e.calculateFaceLocation=function(t){var n=[];for(var i in JSON.parse(t,null,2).outputs[0].data.regions)n[i]=JSON.parse(t,null,2).outputs[0].data.regions[i].region_info.bounding_box;var s=document.getElementById("inputImage"),a=Number(s.width),o=Number(s.height);e.setState({boxArray:n});var c,r,l,d,u=document.getElementById("parent-div");for(var h in n){c=n[h].left_col*a,l=n[h].top_row*o,r=a-n[h].right_col*a,d=o-n[h].bottom_row*o;var m=document.createElement("div");m.setAttribute("class","bounding-box"),m.setAttribute("style","inset: ".concat(l,"px ").concat(r,"px ").concat(d,"px ").concat(c,"px;")),u.appendChild(m)}},e.faceBox=function(t){e.setState({box:t})},e.imageLink=function(t){var n=document.getElementsByClassName("bounding-box");if(n.length>0)for(var i=n.length-1;i>=0;i--)n[i].remove();e.setState({link:t.target.value})},e.onRouteChange=function(t){"home"===t?e.setState({isSignedin:!0}):(e.setState(O),e.setState({isSignedin:!1})),e.setState({route:t})},e.submitClicked=function(){fetch("https://fast-mountain-98393.herokuapp.com/imageUrl",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({link:e.state.link})}).then((function(e){return e.json()})).then((function(t){t&&fetch("https://fast-mountain-98393.herokuapp.com/image",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.state.user.id})}).then((function(e){return e.json()})).then((function(t){return e.setState(Object.assign(e.state.user,{entries:t}))})).catch(console.log),e.faceBox(e.calculateFaceLocation(t))})).catch((function(e){return console.log("error",e)}))},e.state=O,e}return Object(r.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(m,{onProfileEdit:this.onProfileEdit,onRouteChange:this.onRouteChange,isSignedin:this.state.isSignedin}),"home_notsignedin"===this.state.route?Object(h.jsxs)("div",{className:"notSignedin",children:[Object(h.jsx)(j,{onRouteChange:this.onRouteChange}),Object(h.jsx)(g,{imageLink:this.imageLink,submitClicked:this.submitClicked}),Object(h.jsx)(b,{source:this.state.link})]}):"home"===this.state.route?Object(h.jsxs)("div",{children:[Object(h.jsx)(p,{userName:this.state.user.name,userEntries:this.state.user.entries}),Object(h.jsx)(g,{imageLink:this.imageLink,submitClicked:this.submitClicked}),Object(h.jsx)(b,{source:this.state.link})]}):"signin"===this.state.route?Object(h.jsx)(f,{onRouteChange:this.onRouteChange,loadUser:this.loadUser}):Object(h.jsx)(v,{onRouteChange:this.onRouteChange,loadUser:this.loadUser})]})}}]),n}(i.Component),N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),s(e),a(e),o(e)}))};o.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(x,{})}),document.getElementById("root")),N()}],[[22,1,2]]]);
//# sourceMappingURL=main.1879cb3f.chunk.js.map